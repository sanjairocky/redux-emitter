<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React-Emitter Demo</title>
    <script src="../out/ReduxEmitter.js"></script>
    <script src="https://unpkg.com/redux@4.0.5/dist/redux.js"></script>
  </head>
  <body>
    <script>
      const emitter = new reduxEmitter();
      function todos(state = [], action) {
        switch (action.type) {
          case "ADD_TODO":
            return state.concat([action.text]);
          default:
            return state;
        }
      }

      const store = Redux.createStore(todos, ["Use Redux"]);
      emitter.watch(store);

      function addTodo(text) {
        return {
          type: "ADD_TODO",
          text,
        };
      }

      store.dispatch(addTodo("Read the docs"));
      store.dispatch(addTodo("Read about the middleware"));
    </script>
  </body>
</html>
